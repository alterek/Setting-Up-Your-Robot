# Подглава 2.4.3 Установка ROS на ноутбук



Нам нужна ROS, чтобы взаимодействовать с роботом и осуществлять разработку. Вы можете найти инструкции о том, как это сделать, в репозитории по адресу [http://wiki.ros.org/kinetic/Installation/Ubuntu](http://wiki.ros.org/kinetic/Installation/Ubuntu). 

Я дам вам быстрый и хитрый метод: 

Перейдите в командную строку устройства. Нам необходимо установить источник программного обеспечения следующим образом: 

`sudo sh -c 'echo "deb http://packages.ros.org/ros/ubuntu$(lsb_release -sc) main" > /etc/apt/sources.list.d/ros-latest.list'`

Нам нужно настроить наш ключ, чтобы получить доступ к программному обеспечению с помощью команды. Помните, что вы также можете вставить это с сайта ROS: 

`sudo apt-key adv --keyserver hkp://ha.pool.sks-keyservers.net:80 --recv-key 421C365BD9FF1F717815A3895523BAEEB01FA116` 

На данном этапе рекомендуется проверить, что вы используете актуальную установку Linux командной: 

`sudo apt-get update` 

Это займет некоторое время в зависимости от вашего интернет-соединения и компьютера. 

Теперь мы, наконец, готовы установить основной дистрибутив ROS. Обратите внимание, что мы используем ROS Kinetic, последний полный релиз на момент публикации этой книги: 

`sudo apt-get install ros-kinetic-desktop-full` 

Учтите, что установка может занять более 30 минут. После этого приступим к настройке ROS на вашем компьютере. Нам нужно настроить диспетчер зависимостей ROS с помощью этих команд: 

`sudo rosdep init   
rosdep update` 

_rosdep_ идёт в ногу с другими пакетами, от которых зависит наша программа, он будет автоматически скачивать их, если они отсутствуют. Это хорошая функция, но мы не будем в ней нуждаться очень часто – только при установке нового пакета. 

ROS использует несколько переменных окружения для настройки важных частей системы, таких как отслеживание того, какой компьютер отвечает за работу. Конфигурация по умолчанию устанавливается так: 

`echo "source /opt/ros/kinetic/setup.bash" >> ~/.bashrc source ~/.bashrc` 

Первая команда добавляет _/opt/ros/kinetic/setup.bash_ к стандартному _.bashrc_ файлу, поэтому эти переменные среды будут автоматически создаваться каждый раз при открытии терминала. Скрипт .bashrc срабатывает при запуске Bash Shell. 

Проверить стандартную настройку можно, посмотрев переменные окружения. Давайте посмотрим те, в которых присутствует строка _ROS_, используя символ \(\|\) и команду _grep_:

`~$ env | grep ROS ROS_ROOT=/opt/ros/kinetic/share/ros ROS_PACKAGE_PATH=/opt/ros/kinetic/share ROS_MASTER_URI=http://localhost:11311 SESSION_MANAGER=local/BookROS:@/tmp/.ICE-unix/1847,unix/BookROS:/tmp/.ICEunix/ 1847 ROS_DISTRO=kinetic ROS_ETC_DIR=/opt/ros/kinetic/etc/ros` 

Самая главная переменная здесь – это ROS\_MASTER\_URI. Она указывает на место выполнения ROSCORE. Чаще всего она выполняется на роботе. 

Допустим, IP-адрес робота 192.168.1.15. Тогда мы установим этой переменной значение [http://192.168.1.15:11311](http://192.168.1.15:11311). Вы также можете установить в etc/hosts имя робота и IP-адрес следующим образом: 

`sudo nano /etc/hosts   
192.168.1.15 tinman` 

Теперь вы можете использовать имя хоста _tinman_ вместо IP-адреса: 

`env ROS_MASTER_URI=http://tinman:11311.` 

Не забудьте изменить это и в скрипте _.bashrc_ через _nano .bashrc_

